(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{146:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"getDetail",(function(){return s}));var r=n(33),c=Object(r.fromJS)({title:"",content:""}),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"detail/change_detail":return e.merge({title:t.title,content:t.content});default:return e}},o=n(47),u=n.n(o),l=n(35),s=function(e){return function(t){u.a.get(l.a+"detail?id="+e).then((function(e){var n,a,r=Object(l.b)(e.data).data;t((n=r.title,a=r.content,{type:"detail/change_detail",title:n,content:a}))}))}}},182:function(e,t,n){e.exports=n(292)},187:function(e,t,n){},289:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getName",(function(){return x}));var r={};n.r(r),n.d(r,"getRecord",(function(){return D}));var c={};n.r(c),n.d(c,"getTags",(function(){return z})),n.d(c,"getArticles",(function(){return M})),n.d(c,"getHotspot",(function(){return H}));var i={};n.r(i),n.d(i,"getResult",(function(){return U}));var o={};n.r(o),n.d(o,"getAlbums",(function(){return X}));var u=n(0),l=n.n(u),s=n(20),d=n.n(s),f=(n(187),n(34)),m=n(37),b=n(38),h=n(40),g=n(39),p=n(80);function v(){var e=Object(p.a)(["\n    color: white;\n    font-size: 20px;\n    float: left;\n    margin-right: 50px;\n"]);return v=function(){return e},e}var O=n(81).a.div(v()),j=n(33),E=Object(j.fromJS)({name:""}),y=n(47),w=n.n(y),k=n(35),x=function(){return function(e){w.a.get(k.a+"site/name").then((function(t){var n,a=Object(k.b)(t.data);e((n=a.data.value,{type:"header/change_name",data:Object(j.fromJS)(n)}))})).catch((function(){console.log("error")}))}},S=n(293),I=n(124),_=(n(136),n(41)),J=S.a.Header,C=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.handleName;return l.a.createElement(J,{width:"100px"},l.a.createElement(_.b,{to:"/"},l.a.createElement(O,{className:n(t)},t)),l.a.createElement(I.a,{theme:"dark",mode:"horizontal",style:{overflow:"hidden"}},l.a.createElement(I.a.Item,null,l.a.createElement(_.b,{to:"/"},"\u5206\u4eab")),l.a.createElement(I.a.Item,null,l.a.createElement(_.b,{to:"/album"},"\u4e13\u680f"))))}}]),n}(u.PureComponent),R=Object(f.b)((function(e){return{name:e.getIn(["header","name"])}}),(function(e){return{handleName:function(t){""===t&&e(a.getName())}}}))(C),T=n(89),P=n(152),A=n(153),L=Object(j.fromJS)({nickname:"",record:""}),D=function(){return function(e){w.a.get(k.a+"site/record").then((function(t){var n=Object(k.b)(t.data),a=n.data[0].value,r=n.data[1].value;e(function(e,t){return{type:"footer/record",nickname:Object(j.fromJS)(e),record:Object(j.fromJS)(t)}}(a,r))})).catch((function(){console.log("error")}))}},N=Object(j.fromJS)({articleList:[],tagList:[],hotspot:[]}),z=function(){return function(e){w.a.get(k.a+"share/tags").then((function(t){var n=Object(k.b)(t.data);e({type:"share/change_tag_data",data:n.data})})).catch((function(){console.log("error")}))}},M=function(){return function(e){w.a.get(k.a+"share/articles").then((function(t){for(var n=Object(k.b)(t.data).data,a=0;a<n.length;a++)n[a].views=0,null!==n[a].view&&(n[a].views=n[a].view.views);e(function(e){return{type:"share/change_article_list",data:e}}(n))})).catch((function(){console.log("error")}))}},H=function(){return function(e){w.a.get(k.a+"hotspot").then((function(t){var n=Object(k.b)(t.data).data;e(function(e){return{type:"share/change_hotspot",data:e}}(n))})).catch((function(){console.log("error")}))}},B=n(146),F=Object(j.fromJS)({title:"",subtitle:"",list:[]}),U=function(e,t){return function(n){w.a.get(k.a+e+"?id="+t).then((function(e){for(var t=Object(k.b)(e.data).data,a=t.title,r=t.description,c=t.article,i=0;i<c.length;i++)c[i].views=0,null!==c[i].view&&(c[i].views=c[i].view.views);n(function(e,t,n){return{type:"result/change_result",title:e,subtitle:t,list:n}}(a,r,c))}))}},W=Object(j.fromJS)({list:[]}),X=function(){return function(e){w.a.get(k.a+"albums").then((function(t){var n=Object(k.b)(t.data).data;e(function(e){return{type:"album/change_album",data:e}}(n))}))}},V=Object(A.combineReducers)({header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"header/change_name":return e.set("name",t.data);default:return e}},footer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"footer/record":return e.merge({nickname:t.nickname,record:t.record});default:return e}},share:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"share/change_tag_data":return e.set("tagList",Object(j.fromJS)(t.data));case"share/change_article_list":return e.set("articleList",Object(j.fromJS)(t.data));case"share/change_hotspot":return e.set("hotspot",Object(j.fromJS)(t.data));default:return e}},detail:B.b,result:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"result/change_result":return e.merge({title:t.title,subtitle:t.subtitle,list:t.list});default:return e}},album:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"album/change_album":return e.set("list",Object(j.fromJS)(t.data));default:return e}}}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.c,q=Object(T.d)(V,$(Object(T.a)(P.a))),G=n(302),K=n(36),Q=S.a.Footer,Y=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.nickname,n=e.record,a=e.handleRecord;return l.a.createElement(Q,{style:{textAlign:"center"},className:a(t,n)},"\u7531 ",t," \u8bbe\u8ba1\u548c\u7f16\u7801 \uff5c \u5907\u6848\u53f7 : ",n)}}]),n}(u.PureComponent),Z=Object(f.b)((function(e){return{nickname:e.getIn(["footer","nickname"]),record:e.getIn(["footer","record"])}}),(function(e){return{handleRecord:function(t,n){""!==t&&""!==n||e(r.getRecord())}}}))(Y),ee=n(299),te=n(303),ne=n(297),ae=n(296),re=n(74),ce=n(301),ie=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"getActions",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(l.a.createElement(te.b,{style:{color:"grey"}},e[n].title));return t}},{key:"render",value:function(){var e=this,t=this.props.list.toJS(),n=function(e){var t=e.icon,n=e.text;return l.a.createElement(te.b,null,l.a.createElement(t),n)};return l.a.createElement(re.c,null,l.a.createElement(ne.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:10},dataSource:t,renderItem:function(t){return l.a.createElement(u.Fragment,null,l.a.createElement(_.b,{to:"/detail/"+t.id},l.a.createElement(ne.b.Item,{key:t.id,actions:e.getActions(t.tag),extra:[l.a.createElement(n,{icon:ce.a,text:t.views,key:"eye"})]},l.a.createElement(ne.b.Item.Meta,{title:t.title}))),l.a.createElement(ae.a,null))}}))}}]),n}(u.PureComponent),oe=Object(f.b)((function(e){return{list:e.getIn(["share","articleList"])}}))(ie),ue=n(298),le=n(304),se=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.list.toJS();return l.a.createElement(ue.a,{title:"\u6807\u7b7e",style:{float:"right",width:400,borderRadius:8}},e.map((function(e){return l.a.createElement(_.b,{key:e.id,to:"/result/tag/"+e.id},l.a.createElement(le.a,{color:e.color,style:{marginTop:10,cursor:"pointer"}},e.title))})))}}]),n}(u.Component),de=Object(f.b)((function(e){return{list:e.getIn(["share","tagList"])}}))(se),fe=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.list.toJS();return l.a.createElement(ue.a,{title:"\u70ed\u95e8\u8d44\u6e90",style:{float:"right",width:400,borderRadius:8,marginTop:50}},l.a.createElement(ne.b,{dataSource:e,renderItem:function(e){return l.a.createElement(ne.b.Item,null,l.a.createElement(ne.b.Item.Meta,{title:l.a.createElement(_.b,{to:"/result/album/"+e.id},e.title)}))}}))}}]),n}(u.PureComponent),me=Object(f.b)((function(e){return{list:e.getIn(["share","hotspot"])}}))(fe),be=S.a.Content,he=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return window.scrollTo(0,0),l.a.createElement(be,{style:{padding:"0 100px",overflow:"hidden"}},l.a.createElement(ee.a,{title:"\u5206\u4eab",subTitle:"\u5206\u4eab\u521b\u9020\uff0c\u5206\u4eab\u6280\u5de7"}),l.a.createElement(oe,null),l.a.createElement(de,null),l.a.createElement(me,null))}},{key:"componentDidMount",value:function(){this.props.changeTagsData(),this.props.changeListData(),this.props.changeHotspot()}}]),n}(u.PureComponent),ge=Object(f.b)(null,(function(e){return{changeTagsData:function(){var t=c.getTags();e(t)},changeListData:function(){var t=c.getArticles();e(t)},changeHotspot:function(){var t=c.getHotspot();e(t)}}}))(he),pe=n(164),ve=n.n(pe),Oe=n(159),je=ve()({loader:function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,704))},loading:function(){return l.a.createElement("div",null,l.a.createElement(Oe.a,null))}}),Ee=function(){return l.a.createElement(je,null)},ye=n(300),we=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.list,t=function(e){var t=e.icon,n=e.text;return l.a.createElement(te.b,null,l.a.createElement(t),n)};return l.a.createElement(ne.b,{itemLayout:"vertical",size:"small",pagination:{onChange:function(e){console.log(e)},pageSize:10},dataSource:e,renderItem:function(e){return l.a.createElement(u.Fragment,null,l.a.createElement(_.b,{to:"/detail/"+e.id},l.a.createElement(ne.b.Item,{key:e.id,extra:[l.a.createElement(t,{icon:ce.a,text:e.views,key:"eye"})]},l.a.createElement(ne.b.Item.Meta,{title:e.title}))),l.a.createElement(ae.a,null))}})}}]),n}(u.PureComponent),ke=Object(f.b)((function(e){return{list:e.getIn(["result","list"])}}))(Object(K.e)(we)),xe=S.a.Content,Se=ye.a.Title,Ie=ye.a.Paragraph,_e=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){window.scrollTo(0,0);var e=this.props,t=e.title,n=e.subtitle;return l.a.createElement(xe,{style:{padding:"0 250px"}},l.a.createElement(ee.a,{onBack:function(){return window.history.back()},title:"",subTitle:"Back"}),l.a.createElement(re.a,null,l.a.createElement(Se,null,t),l.a.createElement(Ie,null,n)),l.a.createElement(ae.a,null),l.a.createElement(re.d,null,l.a.createElement(ke,null)))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.match.params.type;this.props.getResult(t,e)}}]),n}(u.PureComponent),Je=Object(f.b)((function(e){return{title:e.getIn(["result","title"]),subtitle:e.getIn(["result","subtitle"])}}),(function(e){return{getResult:function(t,n){e(i.getResult(t,n))}}}))(Object(K.e)(_e)),Ce=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props.list.toJS();return l.a.createElement(ne.b,{grid:{gutter:16,column:4},dataSource:e,renderItem:function(e){return l.a.createElement(ne.b.Item,null,l.a.createElement(_.b,{to:"/result/album/"+e.id},l.a.createElement(ue.a,{title:e.title,style:{borderRadius:4}},e.description.substr(0,35)+"...")))}})}}]),n}(u.PureComponent),Re=Object(f.b)((function(e){return{list:e.getIn(["album","list"])}}))(Object(K.e)(Ce)),Te=S.a.Content,Pe=ye.a.Title,Ae=ye.a.Paragraph,Le=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){return l.a.createElement(Te,{style:{padding:"0 250px",margin:"50px 0"}},l.a.createElement(re.a,null,l.a.createElement(Pe,{style:{textAlign:"center"}},"\u4e13\u680f"),l.a.createElement(Ae,{style:{textAlign:"center",color:"gray"}},"\u8ba9\u5b66\u4e60\u66f4\u52a0\u9ad8\u6548")),l.a.createElement(ae.a,null),l.a.createElement(Re,null))}},{key:"componentDidMount",value:function(){this.props.getAlbums()}}]),n}(u.PureComponent),De=Object(f.b)(null,(function(e){return{getAlbums:function(){e(o.getAlbums())}}}))(Object(K.e)(Le));n(289);var Ne=function(){return l.a.createElement(f.a,{store:q},l.a.createElement(_.a,null,l.a.createElement(S.a,null,l.a.createElement(R,null),l.a.createElement(K.a,{path:"/",exact:!0,component:ge}),l.a.createElement(K.a,{path:"/detail/:id",exact:!0,component:Ee}),l.a.createElement(K.a,{path:"/result/:type/:id",exact:!0,component:Je}),l.a.createElement(K.a,{path:"/album",exact:!0,component:De}),l.a.createElement(G.a,{style:{height:40,width:40,lineHeight:"40px",borderRadius:4,backgroundColor:"#1088e9",color:"#fff",textAlign:"center",fontSize:14}},"Up"),l.a.createElement(Z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(l.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="/api/";function r(e){return{data:e.data,message:e.message}}},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f}));var a=n(80),r=n(81);function c(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 25px;\n    height: 50%;\n    border-radius: 8px;\n"]);return c=function(){return e},e}function i(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 25px;\n    min-height: 280px;\n    border-radius: 8px;\n"]);return i=function(){return e},e}function o(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 50px;\n    min-height: 280px;\n    border-radius: 8px;\n    img\n    {\n        width: 100%;    \n    }\n"]);return o=function(){return e},e}function u(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 24px;\n    min-height: 100%;\n    float: left;\n    width: 65%;\n    border-radius: 8px;\n"]);return u=function(){return e},e}var l=r.a.div(u()),s=r.a.div(o()),d=r.a.div(i()),f=r.a.div(c())}},[[182,1,3]]]);
//# sourceMappingURL=main.501d8c13.chunk.js.map