(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{120:function(e,t,n){"use strict";var a=n(37),r=n(38),c=n(40),i=n(39),o=n(0),u=n.n(o),l=n(183),s=n(127),d=n(296),f=n(74),m=n(34),h=n(297),b=n(41),g=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getActions",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(u.a.createElement(l.b,{style:{color:"grey"}},e[n].title));return t}},{key:"render",value:function(){var e=this,t=this.props.list.toJS(),n=function(e){var t=e.icon,n=e.text;return u.a.createElement(l.b,null,u.a.createElement(t),n)};return u.a.createElement(f.c,null,u.a.createElement(s.b,{itemLayout:"vertical",size:"large",pagination:{onChange:function(e){console.log(e)},pageSize:10},dataSource:t,renderItem:function(t){return u.a.createElement(o.Fragment,null,u.a.createElement(b.b,{to:"/detail/"+t.id},u.a.createElement(s.b.Item,{key:t.id,actions:e.getActions(t.tag),extra:[u.a.createElement(n,{icon:h.a,text:t.views,key:"eye"})]},u.a.createElement(s.b.Item.Meta,{title:t.title}))),u.a.createElement(d.a,null))}}))}}]),n}(o.PureComponent);t.a=Object(m.b)((function(e){return{list:e.getIn(["share","articleList"])}}))(g)},148:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"getDetail",(function(){return s}));var r=n(33),c=Object(r.fromJS)({title:"",content:""}),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"detail/change_detail":return e.merge({title:t.title,content:t.content});default:return e}},o=n(47),u=n.n(o),l=n(35),s=function(e){return function(t){u.a.get(l.a+"detail?id="+e).then((function(e){var n,a,r=Object(l.b)(e.data).data;t((n=r.title,a=r.content,{type:"detail/change_detail",title:n,content:a}))}))}}},185:function(e,t,n){e.exports=n(295)},190:function(e,t,n){},292:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getName",(function(){return x}));var r={};n.r(r),n.d(r,"getRecord",(function(){return L}));var c={};n.r(c),n.d(c,"getTags",(function(){return z})),n.d(c,"getArticles",(function(){return H})),n.d(c,"getHotspot",(function(){return N}));var i={};n.r(i),n.d(i,"getResult",(function(){return F}));var o={};n.r(o),n.d(o,"getAlbums",(function(){return X}));var u=n(0),l=n.n(u),s=n(20),d=n.n(s),f=(n(190),n(34)),m=n(37),h=n(38),b=n(40),g=n(39),p=n(80);function v(){var e=Object(p.a)(["\n    color: white;\n    font-size: 20px;\n    float: left;\n    margin-right: 50px;\n"]);return v=function(){return e},e}var O=n(81).a.div(v()),E=n(33),j=Object(E.fromJS)({name:""}),y=n(47),k=n.n(y),w=n(35),x=function(){return function(e){k.a.get(w.a+"site/name").then((function(t){var n,a=Object(w.b)(t.data);e((n=a.data.value,{type:"header/change_name",data:Object(E.fromJS)(n)}))})).catch((function(){console.log("error")}))}},S=n(298),I=n(125),_=(n(138),n(41)),C=S.a.Header,J=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.name;return l.a.createElement(C,{width:"100px"},l.a.createElement(_.b,{to:"/"},l.a.createElement(O,null,e)),l.a.createElement(I.a,{theme:"dark",mode:"horizontal",style:{overflow:"hidden"}},l.a.createElement(I.a.Item,null,l.a.createElement(_.b,{to:"/"},"\u5206\u4eab")),l.a.createElement(I.a.Item,null,l.a.createElement(_.b,{to:"/album"},"\u4e13\u680f"))))}},{key:"componentDidMount",value:function(){this.props.handleName()}}]),n}(u.PureComponent),T=Object(f.b)((function(e){return{name:e.getIn(["header","name"])}}),(function(e){return{handleName:function(){e(a.getName())}}}))(J),A=n(89),R=n(154),P=n(155),D=Object(E.fromJS)({nickname:"",record:""}),L=function(){return function(e){k.a.get(w.a+"site/record").then((function(t){var n=Object(w.b)(t.data),a=n.data[0].value,r=n.data[1].value;e(function(e,t){return{type:"footer/record",nickname:Object(E.fromJS)(e),record:Object(E.fromJS)(t)}}(a,r))})).catch((function(){console.log("error")}))}},M=Object(E.fromJS)({articleList:[],tagList:[],hotspot:[]}),z=function(){return function(e){k.a.get(w.a+"share/tags").then((function(t){var n=Object(w.b)(t.data);e({type:"share/change_tag_data",data:n.data})})).catch((function(){console.log("error")}))}},H=function(){return function(e){k.a.get(w.a+"share/articles").then((function(t){for(var n=Object(w.b)(t.data).data,a=0;a<n.length;a++)n[a].views=0,null!==n[a].view&&(n[a].views=n[a].view.views);e(function(e){return{type:"share/change_article_list",data:e}}(n))})).catch((function(){console.log("error")}))}},N=function(){return function(e){k.a.get(w.a+"hotspot").then((function(t){var n=Object(w.b)(t.data).data;e(function(e){return{type:"share/change_hotspot",data:e}}(n))})).catch((function(){console.log("error")}))}},W=n(148),B=Object(E.fromJS)({title:"",subtitle:"",list:[]}),F=function(e,t){return function(n){k.a.get(w.a+e+"?id="+t).then((function(e){for(var t=Object(w.b)(e.data).data,a=t.title,r=t.description,c=t.article,i=0;i<c.length;i++)c[i].views=0,null!==c[i].view&&(c[i].views=c[i].view.views);n(function(e,t,n){return{type:"result/change_result",title:e,subtitle:t,list:n}}(a,r,c))}))}},U=Object(E.fromJS)({list:[]}),X=function(){return function(e){k.a.get(w.a+"albums").then((function(t){var n=Object(w.b)(t.data).data;e(function(e){return{type:"album/change_album",data:e}}(n))}))}},V=Object(P.combineReducers)({header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"header/change_name":return e.set("name",t.data);default:return e}},footer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"footer/record":return e.merge({nickname:t.nickname,record:t.record});default:return e}},share:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"share/change_tag_data":return e.set("tagList",Object(E.fromJS)(t.data));case"share/change_article_list":return e.set("articleList",Object(E.fromJS)(t.data));case"share/change_hotspot":return e.set("hotspot",Object(E.fromJS)(t.data));default:return e}},detail:W.b,result:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"result/change_result":return e.merge({title:t.title,subtitle:t.subtitle,list:t.list});default:return e}},album:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"album/change_album":return e.set("list",Object(E.fromJS)(t.data));default:return e}}}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.c,q=Object(A.d)(V,$(Object(A.a)(R.a))),G=n(304),K=n(36),Q=S.a.Footer,Y=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.nickname,n=e.record;return l.a.createElement(Q,{style:{textAlign:"center"}},"\u7531 ",t," \u8bbe\u8ba1\u548c\u7f16\u7801 \uff5c \u5907\u6848\u53f7 : ",n)}},{key:"componentDidMount",value:function(){var e=this.props.nickname,t=this.props.record;this.props.handleRecord(e,t)}}]),n}(u.PureComponent),Z=Object(f.b)((function(e){return{nickname:e.getIn(["footer","nickname"]),record:e.getIn(["footer","record"])}}),(function(e){return{handleRecord:function(t,n){""!==t&&""!==n||e(r.getRecord())}}}))(Y),ee=n(302),te=n(120),ne=n(301),ae=n(305),re=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.list.toJS();return l.a.createElement(ne.a,{title:"\u6807\u7b7e",style:{float:"right",width:"30%",borderRadius:8}},e.map((function(e){return l.a.createElement(_.b,{key:e.id,to:"/result/tag/"+e.id},l.a.createElement(ae.a,{color:e.color,style:{marginTop:10,cursor:"pointer"}},e.title))})))}}]),n}(u.Component),ce=Object(f.b)((function(e){return{list:e.getIn(["share","tagList"])}}))(re),ie=n(127),oe=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.list.toJS();return l.a.createElement(ne.a,{title:"\u70ed\u95e8\u8d44\u6e90",style:{float:"right",width:"30%",borderRadius:8,marginTop:"2.5%"}},l.a.createElement(ie.b,{dataSource:e,renderItem:function(e){return l.a.createElement(ie.b.Item,null,l.a.createElement(ie.b.Item.Meta,{title:l.a.createElement(_.b,{to:"/result/album/"+e.id},e.title)}))}}))}}]),n}(u.PureComponent),ue=Object(f.b)((function(e){return{list:e.getIn(["share","hotspot"])}}))(oe),le=S.a.Content,se=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return window.scrollTo(0,0),l.a.createElement(le,{style:{padding:"0 5%",overflow:"hidden"}},l.a.createElement(ee.a,{title:"\u5206\u4eab",subTitle:"\u5206\u4eab\u521b\u9020\uff0c\u5206\u4eab\u6280\u5de7"}),this.getArticles(),this.getCards())}},{key:"getCards",value:function(){if(document.body.clientWidth>=700)return l.a.createElement(u.Fragment,null,l.a.createElement(ce,null),l.a.createElement(ue,null))}},{key:"getArticles",value:function(){return document.body.clientWidth>=700?l.a.createElement("div",{style:{float:"left",width:"65%"}},l.a.createElement(te.a,null)):l.a.createElement(te.a,null)}},{key:"componentDidMount",value:function(){console.log(document.body.clientWidth),this.props.changeTagsData(),this.props.changeListData(),this.props.changeHotspot()}}]),n}(u.PureComponent),de=Object(f.b)(null,(function(e){return{changeTagsData:function(){var t=c.getTags();e(t)},changeListData:function(){var t=c.getArticles();e(t)},changeHotspot:function(){var t=c.getHotspot();e(t)}}}))(se),fe=n(166),me=n.n(fe),he=n(161),be=me()({loader:function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,705))},loading:function(){return l.a.createElement("div",null,l.a.createElement(he.a,null))}}),ge=function(){return l.a.createElement(be,null)},pe=n(303),ve=n(296),Oe=n(74),Ee=n(183),je=n(297),ye=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.list,t=function(e){var t=e.icon,n=e.text;return l.a.createElement(Ee.b,null,l.a.createElement(t),n)};return l.a.createElement(ie.b,{itemLayout:"vertical",size:"small",pagination:{onChange:function(e){console.log(e)},pageSize:10},dataSource:e,renderItem:function(e){return l.a.createElement(u.Fragment,null,l.a.createElement(_.b,{to:"/detail/"+e.id},l.a.createElement(ie.b.Item,{key:e.id,extra:[l.a.createElement(t,{icon:je.a,text:e.views,key:"eye"})]},l.a.createElement(ie.b.Item.Meta,{title:e.title}))),l.a.createElement(ve.a,null))}})}}]),n}(u.PureComponent),ke=Object(f.b)((function(e){return{list:e.getIn(["result","list"])}}))(Object(K.e)(ye)),we=S.a.Content,xe=pe.a.Title,Se=pe.a.Paragraph,Ie=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){window.scrollTo(0,0);var e=this.props,t=e.title,n=e.subtitle;return l.a.createElement(we,{style:{padding:"15%"}},l.a.createElement(ee.a,{onBack:function(){return window.history.back()},title:"",subTitle:"Back"}),l.a.createElement(Oe.a,null,l.a.createElement(xe,null,t),l.a.createElement(Se,null,n)),l.a.createElement(ve.a,null),l.a.createElement(Oe.d,null,l.a.createElement(ke,null)))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.match.params.type;this.props.getResult(t,e)}}]),n}(u.PureComponent),_e=Object(f.b)((function(e){return{title:e.getIn(["result","title"]),subtitle:e.getIn(["result","subtitle"])}}),(function(e){return{getResult:function(t,n){e(i.getResult(t,n))}}}))(Object(K.e)(Ie)),Ce=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.list.toJS();return l.a.createElement(ie.b,{grid:this.changeTy(),dataSource:e,renderItem:function(e){return l.a.createElement(ie.b.Item,null,l.a.createElement(_.b,{to:"/result/album/"+e.id},l.a.createElement(ne.a,{title:e.title,style:{borderRadius:4}},e.description.substr(0,36)+"...")))}})}},{key:"changeTy",value:function(){return document.body.clientWidth>=900?{gutter:16,column:4}:{gutter:16,column:1}}}]),n}(u.PureComponent),Je=Object(f.b)((function(e){return{list:e.getIn(["album","list"])}}))(Object(K.e)(Ce)),Te=S.a.Content,Ae=pe.a.Title,Re=pe.a.Paragraph,Pe=function(e){Object(b.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return l.a.createElement(Te,{style:{padding:"0 15%",margin:"2.5% 0"}},l.a.createElement(Oe.a,null,l.a.createElement(Ae,{style:{textAlign:"center"}},"\u4e13\u680f"),l.a.createElement(Re,{style:{textAlign:"center",color:"gray"}},"\u8ba9\u5b66\u4e60\u66f4\u52a0\u9ad8\u6548")),l.a.createElement(ve.a,null),l.a.createElement(Je,null))}},{key:"componentDidMount",value:function(){this.props.getAlbums()}}]),n}(u.PureComponent),De=Object(f.b)(null,(function(e){return{getAlbums:function(){e(o.getAlbums())}}}))(Object(K.e)(Pe));n(292);var Le=function(){return l.a.createElement(f.a,{store:q},l.a.createElement(_.a,null,l.a.createElement(S.a,null,l.a.createElement(T,null),l.a.createElement(K.a,{path:"/",exact:!0,component:de}),l.a.createElement(K.a,{path:"/detail/:id",exact:!0,component:ge}),l.a.createElement(K.a,{path:"/result/:type/:id",exact:!0,component:_e}),l.a.createElement(K.a,{path:"/album",exact:!0,component:De}),l.a.createElement(K.a,{path:"/admin",exact:!0,render:function(){window.location.href="https://nbapi.kaixindeken.top/admin"}}),l.a.createElement(G.a,{style:{height:40,width:40,lineHeight:"40px",borderRadius:4,backgroundColor:"#1088e9",color:"#fff",textAlign:"center",fontSize:14}},"Up"),l.a.createElement(Z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(l.a.createElement(Le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="/api/";function r(e){return{data:e.data,message:e.message}}},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f}));var a=n(80),r=n(81);function c(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 5%;\n    height: 50%;\n    border-radius: 8px;\n"]);return c=function(){return e},e}function i(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 25px;\n    min-height: 280px;\n    border-radius: 8px;\n"]);return i=function(){return e},e}function o(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 50px;\n    min-height: 280px;\n    border-radius: 8px;\n    img\n    {\n        width: 100%;    \n    }\n"]);return o=function(){return e},e}function u(){var e=Object(a.a)(["\n    background: #fff;\n    padding: 1%;\n    min-height: 100%;\n    border-radius: 8px;\n"]);return u=function(){return e},e}var l=r.a.div(u()),s=r.a.div(o()),d=r.a.div(i()),f=r.a.div(c())}},[[185,1,3]]]);
//# sourceMappingURL=main.37c55384.chunk.js.map